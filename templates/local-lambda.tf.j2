{%- for i in range(max_functions) %}
// Lambda_{{i}}
locals {
  lambda_{{i}} = "${var.functions[0]}"

  // Lambda for Golang
  lambda_go_{{i}}         = "${contains(split(".", local.lambda_{{i}}.file), "go")}"
  lambda_go_{{i}}_count   = "${local.lambda_go_{{i}} ? 1 : 0}"
  lambda_go_{{i}}_name    = "${local.lambda_go_{{i}} && local.lambda_{{i}}.name    != "" ? "${local.service_name}-${local.lambda_{{i}}.name}" : "${local.service_name}-${replace(local.lambda_{{i}}.file, ".go", "")}" }" //"
  lambda_go_{{i}}_runtime = "${local.lambda_go_{{i}} && local.lambda_{{i}}.runtime != "" ? local.lambda_{{i}}.runtime : "go1.x" }"
  lambda_go_{{i}}_handler = "${local.lambda_go_{{i}} && local.lambda_{{i}}.handler != "" ? local.lambda_{{i}}.handler : local.lambda_go_{{i}}_name}"
  lambda_go_{{i}}_bin     = "${path.root}/bin/${local.lambda_go_{{i}}_name}"
  lambda_go_{{i}}_zip     = "${local.lambda_go_{{i}} ? "${path.root}/.terraform/archive_files/${local.lambda_go_{{i}}_name}-lambda.zip" : ""}"                                                                    //"

  // Lambda for Python
  lambda_py_{{i}}             = "${contains(split(".", local.lambda_{{i}}.file), "py")}"
  lambda_py_{{i}}_count       = "${local.lambda_py_{{i}} ? 1 : 0}"
  lambda_py_{{i}}_name        = "${local.lambda_py_{{i}} && local.lambda_{{i}}.name != "" ? "${local.service_name}-${local.lambda_{{i}}.name}" : "${local.service_name}-${replace(local.lambda_{{i}}.file, ".py", "")}" }" //"
  lambda_py_{{i}}_runtime     = "${local.lambda_py_{{i}} && local.lambda_{{i}}.runtime != "" ? local.lambda_{{i}}.runtime : "python3.6" }"
  lambda_py_{{i}}_handler     = "${local.lambda_py_{{i}} && local.lambda_{{i}}.handler != "" ? local.lambda_{{i}}.handler : "${local.lambda_py_{{i}}_name}.handler" }"                                                     //"
  lambda_py_{{i}}_source_file = "${local.lambda_py_{{i}} ? local.lambda_{{i}}.file : ""}"
  lambda_py_{{i}}_zip         = "${local.lambda_py_{{i}} ? "${path.root}/.terraform/archive_files/${local.lambda_py_{{i}}_name}-lambda.zip" : ""}"                                                                 //"

  // Lambda for JS
  lambda_js_{{i}}             = "${contains(split(".", local.lambda_{{i}}.file), "js")}"
  lambda_js_{{i}}_count       = "${local.lambda_js_{{i}} ? 1 : 0}"
  lambda_js_{{i}}_name        = "${local.lambda_js_{{i}} && local.lambda_{{i}}.name != "" ? "${local.service_name}-${local.lambda_{{i}}.name}" : "${local.service_name}-${replace(local.lambda_{{i}}.file, ".js", "")}" }" //"
  lambda_js_{{i}}_runtime     = "${local.lambda_js_{{i}} && local.lambda_{{i}}.runtime != "" ? local.lambda_{{i}}.runtime : "nodejs8.10" }"
  lambda_js_{{i}}_handler     = "${local.lambda_js_{{i}} && local.lambda_{{i}}.handler != "" ? local.lambda_{{i}}.handler : "${local.lambda_js_{{i}}_name}.handler" }"                                                     //"
  lambda_js_{{i}}_source_file = "${local.lambda_js_{{i}} ? local.lambda_{{i}}.file : ""}"
  lambda_js_{{i}}_zip         = "${local.lambda_js_{{i}} ? "${path.root}/.terraform/archive_files/${local.lambda_js_{{i}}_name}-lambda.zip" : ""}"                                                                 //"

  // Lambda Generic
  lambda_{{i}}_name = "${local.lambda_{{i}}.name != "" ? local.lambda_{{i}}.name : (local.lambda_go_{{i}} ? local.lambda_go_{{i}}_name : (local.lambda_py_{{i}} ? local.lambda_py_{{i}}_name : (local.lambda_js_{{i}} ? local.lambda_js_{{i}}_name : "${local.service_name}-ez-lambda" ))) }" //"
}
{% endfor %}
